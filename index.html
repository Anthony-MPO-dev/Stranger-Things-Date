<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mission: Goi√¢nia - The Final Season</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@900&family=Rubik+Glitch&family=Creepster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --stranger-red: #e71d24;
            --vecna-dark: #0a0101;
        }

        body {
            background-color: var(--vecna-dark);
            color: white;
            font-family: 'Merriweather', serif;
            overflow: hidden;
            user-select: none;
            transition: background-color 0.5s ease;
            height: 100vh; 
            height: 100dvh;
            width: 100vw;
            position: fixed;
        }

        /* Efeitos de Tela */
        .vignette {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            box-shadow: inset 0 0 150px rgba(0,0,0,0.9);
            pointer-events: none;
            z-index: 2;
        }

        .film-grain {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            z-index: 1;
        }

        /* T√≠tulo */
        .stranger-title {
            font-weight: 900;
            text-transform: uppercase;
            color: transparent;
            -webkit-text-stroke: 1.5px var(--stranger-red);
            text-shadow: 0 0 10px rgba(231, 29, 36, 0.7);
            letter-spacing: -1px;
            position: relative;
            line-height: 0.9;
        }
        @media (min-width: 768px) {
            .stranger-title { -webkit-text-stroke: 2px var(--stranger-red); letter-spacing: -2px; text-shadow: 0 0 15px rgba(231, 29, 36, 0.7); }
        }
        
        .line-top, .line-bottom {
            height: 2px;
            background: var(--stranger-red);
            box-shadow: 0 0 8px var(--stranger-red);
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }

        .season-5 {
            font-family: 'Rubik Glitch', cursive;
            color: #fff;
            text-shadow: 0 0 10px #fff;
            letter-spacing: 2px;
        }

        /* Bot√µes */
        .btn-neon {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--stranger-red);
            color: var(--stranger-red);
            text-transform: uppercase;
            font-weight: bold;
            box-shadow: 0 0 10px var(--stranger-red), inset 0 0 5px var(--stranger-red);
            transition: all 0.3s ease;
            cursor: pointer;
            z-index: 20;
            backdrop-filter: blur(2px);
            white-space: nowrap;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            min-width: 12rem; 
            width: auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .btn-neon:hover, .btn-neon:active {
            background: var(--stranger-red);
            color: black;
            box-shadow: 0 0 20px var(--stranger-red), inset 0 0 10px var(--stranger-red);
        }

        /* Monstro Overlay (Jumpscare) */
        .monster-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 20%, black 90%);
            z-index: 5;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
        }
        
        .monster-face {
            width: 80%;
            max-width: 500px;
            opacity: 0.9;
            filter: drop-shadow(0 0 20px #500);
            animation: breathe 2s infinite ease-in-out;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(0.95); }
            50% { transform: scale(1.05); }
        }

        /* Anima√ß√µes de Terror */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .shake-hard {
            animation: shake 0.5s infinite;
        }

        @keyframes draggedToHell {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            10% { transform: translateY(0) rotate(0deg); opacity: 1; } /* Pausa dram√°tica para os passos */
            30% { transform: translateY(20px) rotate(10deg); opacity: 1; }
            50% { transform: translateY(-10px) rotate(-10deg); opacity: 1; }
            100% { transform: translateY(600px) rotate(45deg); opacity: 0; }
        }

        .dragged {
            animation: draggedToHell 1.5s forwards ease-in; /* Aumentei tempo para caber os sons */
            pointer-events: none;
        }

        @keyframes redAlert {
            0% { background-color: #0a0101; }
            50% { background-color: #3a0000; }
            100% { background-color: #0a0101; }
        }
        
        .red-alert-mode {
            animation: redAlert 0.5s infinite;
        }

        .portal-warp {
            animation: warpSpeed 1.5s forwards ease-in;
        }
        @keyframes warpSpeed {
            0% { transform: scale(1); filter: blur(0px); opacity: 1; }
            50% { transform: scale(1.5); filter: blur(4px); opacity: 0.8; }
            100% { transform: scale(3); filter: blur(10px); opacity: 0; }
        }

        #success-modal {
            display: none;
            backdrop-filter: blur(10px);
            opacity: 0;
            transition: opacity 1s ease;
        }

        /* Tela Final (P√≥s WhatsApp) */
        #finale-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: black;
            z-index: 100;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 2s ease-in;
        }

        .whatsapp-btn {
            background-color: #25D366;
            color: white;
            border: none;
            box-shadow: 0 0 10px #25D366;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center relative">

    <div class="vignette"></div>
    <div class="film-grain"></div>

    <button id="toggle-sound" class="fixed top-4 right-4 z-50 bg-black/50 border border-gray-600 text-gray-300 text-[10px] md:text-xs px-2 py-1 rounded uppercase tracking-widest hover:text-red-500 hover:border-red-500 transition-colors">
        üîá Som
    </button>

    <!-- Monstro Overlay (Oculto inicialmente) -->
    <div id="monster-overlay" class="monster-overlay">
        <!-- SVG Demogorgon (Estrela de 5 pontas carnuda) -->
        <svg class="monster-face" viewBox="0 0 200 200">
            <defs>
                <!-- Formato de uma p√©tala (aba) -->
                <path id="petal" d="M0,0 Q-25,-60 0,-95 Q25,-60 0,0" fill="#3a0000" stroke="#800" stroke-width="2">
                </path>
                <!-- Dentes da p√©tala -->
                <g id="petal-teeth">
                    <path d="M-10,-30 L0,-40 L10,-30" fill="#eee" />
                    <path d="M-15,-50 L0,-65 L15,-50" fill="#eee" />
                    <path d="M-12,-70 L0,-85 L12,-70" fill="#eee" />
                </g>
                <radialGradient id="mouth-glow" cx="0.5" cy="0.5" r="0.5">
                    <stop offset="0%" stop-color="#ff0000" />
                    <stop offset="100%" stop-color="#000000" />
                </radialGradient>
            </defs>
            
            <g transform="translate(100,100)">
                <!-- 5 P√©talas Rotacionadas -->
                <g transform="rotate(0)"> <use href="#petal" /> <use href="#petal-teeth" /> </g>
                <g transform="rotate(72)"> <use href="#petal" /> <use href="#petal-teeth" /> </g>
                <g transform="rotate(144)"> <use href="#petal" /> <use href="#petal-teeth" /> </g>
                <g transform="rotate(216)"> <use href="#petal" /> <use href="#petal-teeth" /> </g>
                <g transform="rotate(288)"> <use href="#petal" /> <use href="#petal-teeth" /> </g>
                
                <!-- Centro da Boca (Garganta) -->
                <circle r="25" fill="black" stroke="#500" stroke-width="2" />
                <circle r="20" fill="url(#mouth-glow)" opacity="0.6">
                    <animate attributeName="opacity" values="0.4;0.9;0.4" dur="0.5s" repeatCount="indefinite" />
                </circle>
            </g>
        </svg>
    </div>

    <div id="particles-container"></div>

    <!-- Conte√∫do Principal -->
    <div class="z-10 text-center px-4 w-full max-w-3xl relative transition-all duration-1000 flex flex-col justify-center h-full" id="main-content">
        
        <!-- Header -->
        <div class="mb-4 md:mb-8 transition-transform duration-500">
            <p class="season-5 text-xs md:text-lg mb-1 md:mb-2 text-red-600 opacity-80">A √öLTIMA TEMPORADA</p>
            <div class="line-top mb-1 md:mb-2 w-1/2 mx-auto"></div>
            <h1 class="stranger-title text-4xl md:text-7xl tracking-widest mb-1 md:mb-2">
                STRANGER<br>
                <span class="text-5xl md:text-8xl">THINGS</span>
            </h1>
            <div class="line-bottom mt-1 md:mt-2 w-3/4 mx-auto"></div>
        </div>

        <!-- Texto -->
        <div class="mb-6 md:mb-10 space-y-2 md:space-y-4" style="text-shadow: 0 0 5px rgba(255,255,255,0.3);">
            <p class="text-gray-200 text-lg md:text-2xl font-light">
                Oi, 
                <span class="text-red-500 font-bold text-xl md:text-2xl cursor-help border-b border-red-500 border-dotted" 
                      style="font-family: 'Rubik Glitch'" 
                      title="Definition: The reason I'm travelling to Goi√¢nia.">
                    Mel
                </span>.
            </p>
            <p class="text-gray-300 text-sm md:text-lg max-w-xl mx-auto leading-relaxed px-2">
                Eu enfrentaria Demogorgons, Vecna e at√© a estrada inteira at√© <span class="text-red-400 font-bold">Goi√¢nia</span> s√≥ pra ver o final dessa hist√≥ria com voc√™.
            </p>
            <p class="text-white font-bold text-base md:text-lg mt-2 md:mt-4 animate-pulse">
                Vamos maratonar juntos?
            </p>
        </div>

        <!-- Bot√µes -->
        <div class="flex flex-col md:flex-row justify-center items-center gap-4 md:gap-8 relative h-32 md:h-24 w-full">
            <button id="btn-yes" onclick="aceitou()" class="btn-neon px-8 rounded text-lg md:text-2xl transition-all duration-300 hover:scale-110 z-20 bg-black/50 h-14 md:h-16">
                COM CERTEZA
            </button>
            
            <button id="btn-no" class="btn-neon px-8 rounded text-lg md:text-xl absolute top-16 md:static z-30 h-14 md:h-16">
                N√ÉO
            </button>
        </div>
        
        <p class="mt-8 md:mt-12 text-[9px] md:text-[10px] text-gray-600 uppercase tracking-[0.2em] opacity-70">
            Subject: Mel // Status: <span class="text-red-800 font-bold">Target</span> // Priority: High
        </p>
    </div>

    <!-- Modal Final -->
    <div id="success-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/95 px-4">
        <div class="text-center p-6 md:p-8 border-4 border-red-900 rounded-lg bg-black shadow-[0_0_80px_rgba(231,29,36,0.6)] w-full max-w-md relative overflow-hidden scale-90 opacity-0 transition-all duration-700" id="modal-box">
            <div class="absolute inset-0 bg-red-900 opacity-20 animate-pulse"></div>
            
            <h2 class="text-3xl md:text-4xl text-red-500 font-bold mb-4 relative z-10" style="font-family: 'Rubik Glitch', cursive;">ACESSO AUTORIZADO!</h2>
            
            <div class="text-left bg-gray-900/80 p-4 rounded border border-red-900/50 mb-6 relative z-10">
                <p class="text-gray-400 text-xs uppercase mb-2 tracking-widest border-b border-gray-700 pb-1">Lista de Suprimentos:</p>
                <ul class="text-gray-200 space-y-2 text-xs md:text-sm">
                    <li><i class="fas fa-check text-green-500 mr-2"></i> Pipoca amanteigada</li>
                    <li><i class="fas fa-check text-green-500 mr-2"></i> Ingredientes p/ o doce especial üç∞</li>
                    <li><i class="fas fa-book-open text-blue-400 mr-2"></i> Aulas de Ingl√™s (Topic: Chemistry)</li>
                    <li><i class="fas fa-car text-red-500 mr-2"></i> Eu chegando em Goi√¢nia</li>
                </ul>
            </div>

            <p class="text-white text-base md:text-lg mb-6 relative z-10 italic">
                "You're an <span class="text-red-500 font-bold">11</span> out of 10."
            </p>

            <div class="flex flex-col gap-3 relative z-10">
                <!-- Bot√£o WhatsApp com fun√ß√£o 'finalizar' -->
                <a href="https://wa.me/5569981085056?text=Hello!%20Acabei%20de%20ver%20o%20site!%20Pode%20vir%20para%20Goi√¢nia%20que%20a%20Chemistry%20Class%20t√°%20garantida!%20%F0%9F%A7%87%F0%9F%8E%AC%E2%9D%A4%EF%B8%8F" 
                   target="_blank"
                   onclick="finalizarMissao()"
                   class="btn-neon whatsapp-btn py-3 px-4 rounded font-bold flex items-center justify-center gap-2 no-underline text-sm md:text-base cursor-pointer">
                   <i class="fab fa-whatsapp text-lg md:text-xl"></i> Confirmar Miss√£o
                </a>
                
                <button onclick="reiniciarMissao()" class="text-gray-500 hover:text-red-500 text-xs mt-2 uppercase tracking-widest transition-colors">
                    <i class="fas fa-undo mr-1"></i> Reabrir Portal (In√≠cio)
                </button>
            </div>
        </div>
    </div>

    <!-- Tela Finale (P√≥s Clique WhatsApp) -->
    <div id="finale-screen">
        <h1 class="stranger-title text-4xl md:text-6xl tracking-widest text-center animate-pulse">
            NOS VEMOS<br>
            <span class="text-5xl md:text-7xl">NO FIM DE SEMANA</span>
        </h1>
        <p class="text-red-600 mt-6 font-mono text-xs uppercase tracking-[0.5em]">To be continued...</p>
    </div>

    <script>
        // --- SISTEMA DE √ÅUDIO ---
        let audioCtx;
        let isMuted = true;
        
        // Refer√™ncia aos arquivos de √°udio
        const demonAudio = new Audio('demon.mp3');
        const musicAudio = new Audio('music.mp3'); // Should I Stay or Should I Go
        demonAudio.preload = 'auto';
        musicAudio.preload = 'auto';

        function initAudio() {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            audioCtx = new AudioContext();
            const btn = document.getElementById('toggle-sound');
            btn.innerText = "üîä Som ON";
            btn.classList.remove('text-gray-300');
            btn.classList.add('text-red-500', 'border-red-500');
            isMuted = false;
            
            // Desbloqueia √°udios
            const unlockAudio = (audio) => {
                audio.play().then(() => {
                    audio.pause();
                    audio.currentTime = 0;
                }).catch(e => console.log("Audio unlock attempted"));
            };
            
            unlockAudio(demonAudio);
            demonAudio.currentTime = 19; // Prepara o ponto do grito
            unlockAudio(musicAudio);

            playAmbientDrone();
        }

        // --- Sintetizadores de Efeitos Especiais ---

        function makeDistortionCurve(amount) {
            const k = typeof amount === 'number' ? amount : 50;
            const n_samples = 44100;
            const curve = new Float32Array(n_samples);
            const deg = Math.PI / 180;
            for (let i = 0; i < n_samples; ++i) {
                const x = i * 2 / n_samples - 1;
                curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));
            }
            return curve;
        }

        function playAmbientDrone() {
            if(isMuted) return;
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(40, audioCtx.currentTime); 
            const filter = audioCtx.createBiquadFilter();
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime);
            osc.start();
        }

        function playDemogorgonScreech() {
            if(isMuted) return;
            demonAudio.currentTime = 19;
            demonAudio.volume = 1.0;
            demonAudio.play().catch(e => console.error("Erro ao reproduzir demon.mp3:", e));
        }

        function playMusic() {
            if(isMuted) return;
            musicAudio.volume = 0.6; // Um pouco mais baixo pra n√£o estourar
            musicAudio.currentTime = 0;
            musicAudio.play().catch(e => console.error("Erro ao reproduzir music.mp3:", e));
        }

        function playHeavySteps(startTime) {
            if(isMuted || !audioCtx) return;
            const t = startTime || audioCtx.currentTime;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(80, t);
            osc.frequency.exponentialRampToValueAtTime(30, t + 0.1);
            gain.gain.setValueAtTime(0.8, t);
            gain.gain.exponentialRampToValueAtTime(0.01, t + 0.3);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start(t);
            osc.stop(t + 0.3);
        }

        function playDragSound(duration) {
            if(isMuted || !audioCtx) return;
            const t = audioCtx.currentTime;
            const bufferSize = audioCtx.sampleRate * duration;
            const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);
            for (let i = 0; i < bufferSize; i++) { data[i] = Math.random() * 2 - 1; }
            const noise = audioCtx.createBufferSource();
            noise.buffer = buffer;
            const filter = audioCtx.createBiquadFilter();
            filter.type = 'bandpass';
            filter.frequency.setValueAtTime(400, t);
            filter.frequency.linearRampToValueAtTime(200, t + duration); 
            const gain = audioCtx.createGain();
            gain.gain.setValueAtTime(0.2, t);
            gain.gain.linearRampToValueAtTime(0, t + duration);
            noise.connect(filter);
            filter.connect(gain);
            gain.connect(audioCtx.destination);
            noise.start(t);
        }

        function playWarpSound() {
            if(isMuted || !audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(100, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(800, audioCtx.currentTime + 1);
            gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 1.5);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 1.5);
        }

        document.getElementById('toggle-sound').addEventListener('click', () => {
            if(!audioCtx) initAudio();
            else if(audioCtx.state === 'suspended') audioCtx.resume();
        });

        // --- L√ìGICA DO JOGO ---
        
        const btnNo = document.getElementById('btn-no');
        const btnYes = document.getElementById('btn-yes');
        const body = document.body;
        const mainContent = document.getElementById('main-content');
        const monsterOverlay = document.getElementById('monster-overlay');
        
        let attempts = 0;
        const maxAttempts = 3;

        // Part√≠culas
        function createParticles() {
            const container = document.getElementById('particles-container');
            for(let i = 0; i < 40; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.width = Math.random() * 3 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDuration = (Math.random() * 10 + 5) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(particle);
            }
        }
        createParticles();

        function moveButton() {
            attempts++;
            if (attempts >= maxAttempts) { activateVecnaMode(); return; }

            if(audioCtx && !isMuted) {
                const osc = audioCtx.createOscillator();
                const g = audioCtx.createGain();
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.type = 'sawtooth';
                g.gain.value = 0.1;
                g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                osc.connect(g);
                g.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.1);
            }

            const margin = 30;
            const maxWidth = window.innerWidth - btnNo.offsetWidth - margin;
            const maxHeight = window.innerHeight - btnNo.offsetHeight - margin;
            const randomX = Math.max(margin, Math.floor(Math.random() * maxWidth));
            const randomY = Math.max(margin, Math.floor(Math.random() * maxHeight));

            btnNo.style.position = 'fixed';
            btnNo.style.left = randomX + 'px';
            btnNo.style.top = randomY + 'px';
            btnNo.style.transform = `rotate(${Math.random() * 30 - 15}deg)`;
            btnNo.style.zIndex = '100';
        }

        btnNo.addEventListener('mouseover', moveButton);
        btnNo.addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); }, {passive: false});

        function activateVecnaMode() {
            playDemogorgonScreech();
            body.classList.add('red-alert-mode');
            mainContent.classList.add('shake-hard');
            monsterOverlay.style.display = 'flex';
            setTimeout(() => { monsterOverlay.style.opacity = '1'; }, 50);

            const t = audioCtx ? audioCtx.currentTime : 0;
            playHeavySteps(t + 0.1); 
            playHeavySteps(t + 0.5); 
            setTimeout(() => { playDragSound(1.0); }, 600);

            btnNo.classList.add('dragged');
            btnYes.innerText = "SEM ESCAPAT√ìRIA";
            btnYes.style.transform = "scale(1.2)";
            btnYes.style.backgroundColor = "#e71d24"; 
            btnYes.style.color = "black";
            btnYes.style.zIndex = "60"; 
            btnYes.classList.add('animate-pulse');

            setTimeout(() => { btnNo.remove(); }, 1500);
            setTimeout(() => {
                body.classList.remove('red-alert-mode');
                body.style.backgroundColor = "#2a0000"; 
                monsterOverlay.style.opacity = '0.3'; 
                mainContent.classList.remove('shake-hard');
            }, 2500);
        }

        function aceitou() {
            playWarpSound();
            playMusic(); // Come√ßa a tocar Should I Stay or Should I Go
            mainContent.classList.add('portal-warp');
            
            setTimeout(() => {
                // playSuccessSound(); // Removido para focar na m√∫sica
                mainContent.style.opacity = '0';
                mainContent.style.pointerEvents = 'none';
                monsterOverlay.style.display = 'none'; 
                body.style.backgroundColor = "#000"; 
                
                const modal = document.getElementById('success-modal');
                const modalBox = document.getElementById('modal-box');
                
                modal.style.display = 'flex';
                setTimeout(() => {
                    modal.style.opacity = '1';
                    modalBox.style.transform = 'scale(1)';
                    modalBox.style.opacity = '1';
                }, 50);

                const particles = document.querySelectorAll('.particle');
                particles.forEach(p => {
                    p.style.background = '#ff0000';
                    p.style.boxShadow = '0 0 15px red';
                    p.style.animationDuration = '0.5s'; 
                });
            }, 1200);
        }

        // Fun√ß√£o chamada ao clicar no WhatsApp
        function finalizarMissao() {
            // Pequeno delay para garantir que o clique foi registrado e a nova aba abriu
            setTimeout(() => {
                const modal = document.getElementById('success-modal');
                const finale = document.getElementById('finale-screen');
                
                // Transi√ß√£o suave: Modal some, Tela final aparece
                modal.style.opacity = '0';
                setTimeout(() => {
                    modal.style.display = 'none';
                    finale.style.display = 'flex';
                    // Pequeno reflow
                    void finale.offsetWidth;
                    finale.style.opacity = '1';
                }, 1000);
            }, 500);
        }

        function reiniciarMissao() {
            location.reload();
        }
    </script>
</body>
</html>